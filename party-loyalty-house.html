<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>House of Representatives Party Loyalty</title>
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We"
    crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
</head>
<body class="d-flex flex-column justify-content-between h-100%">
    <div id="app">
        <div>
            <header>
              <div class="jumbotron jumbotron-fluid" id="header-jumbotron">
                <img
                src="./assets/us-congress-logo-png-transparent.png"
                id="congress-logo"
                />
                <div class="container">
                <h1 class="display-4" id="tgif-title">
                  Transparent Government In Fact
                </h1>
              </div>
              <a href="mailto:info@tgif.com" id="tgif-email-logo"
              ><img
              src="./assets/kisspng-computer-icons-logo-5aead4cf068230.1198150215253393430267.png"
              id="logo-email"
              /></a>
              <a href="mailto:info@tgif.com" id="tgif-email">info@tgif.com</a>
            </div>
          </header>
          
          <nav class="navbar navbar-expand-lg navbar-dark bg-danger sticky-top">
            <div class="container">
              <a href="#" class="navbar-brand"></a>
              <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarSupportedContent"
              aria-expanded="false"
              aria-label="Toggle navigation"
              >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                  <a href="./index.html" class="nav-link" aria-current="page">Home</a>
                </li>
                <li class="nav-item dropdown">
                  <a
                  href="#"
                  class="nav-link dropdown-toggle"
                  id="navbarDropdown"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                  >113th Congress</a
                  >
                  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li>
                      <a href="senate-data.html" class="dropdown-item">Senate</a>
                    </li>
                    <li>
                      <a href="house-data.html" class="dropdown-item"
                      >House of Representatives</a
                      >
                    </li>
                  </ul>
                </li>
                <li class="nav-item dropdown">
                    <a
                    href="#"
                    class="nav-link dropdown-toggle"
                    id="navbarDropdown"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    >Attendance</a
                    >
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <li>
                        <a href="attendance-senate.html" class="dropdown-item">Senate</a>
                      </li>
                      <li>
                        <a href="attendance-house.html" class="dropdown-item"
                        >House of Representatives</a
                        >
                      </li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a
                    href="#"
                    class="nav-link dropdown-toggle"
                    id="navbarDropdown"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    >Party Loyalty</a
                    >
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <li>
                        <a href="party-loyalty-senate.html" class="dropdown-item">Senate</a>
                      </li>
                      <li>
                        <a href="#" class="dropdown-item"
                        >House of Representatives</a
                        >
                      </li>
                    </ul>
                </li>
              </ul>
            </div>
          </div>
        </nav>
        
        <div class="container mt-5">
            <div class="row">
                <div class="col-7 p-2">
                    <h2 class="mb-3">Party Loyalty</h2>
                    <p>Those who consider themselves to be strong partisans, strong Democrats and strong Republicans respectively, tend to be the most faithful in voting for their party's nominee for office and legislation that backs their party's agenda. </p>
                </div>
                <div class="col-5 d-flex flex-column align-items-end p-2">
                    <h2 class="mb-3">House at a glance</h2>
                    <table class="table table-hover" v-if="members.length !== 0">
                        <thead>
                            <tr>
                                <th>Party</th>
                                <th>N° of Reps</th>
                                <th>% Voted with Party</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Republican</td>
                                <td>{{statistics.republicans.length}}</td>
                                <td>{{statistics.averageVotesWithPartyRepublicans}}</td>
                            </tr>
                            <tr>
                                <td>Democratic</td>
                                <td>{{statistics.democrats.length}}</td>
                                <td>{{statistics.averageVotesWithPartyDemocrats}}</td>
                            </tr>
                            <tr>
                                <td>Independent</td>
                                <td>{{statistics.independents.length}}</td>
                                <td>{{statistics.averageVotesWithPartyIndependents}}</td>
                            </tr>
                            <tr>
                                <td>Total</td>
                                <td>{{members.length}}</td>
                                <td>{{statistics.averageVotesWithPartyTotal}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="d-flex justify-content-center align-self-center w100%">
                      <img src="./assets/ajax-loader.gif" class="ajax-loader" v-if="members.length === 0">
                    </div>   
                </div>
            </div>
        </div>
    
        <div class="container mt-5">
            <div class="row">
                <div class="col-6 p-2 table-responsive">
                  <h2 class="mb-2">Least Loyal (Bottom 10%)</h2>
                    <table class="table table-hover" v-if="members.length !== 0">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>N° of Party Votes</th>
                                <th>% Party Votes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="member in statistics.leastLoyal">
                                <td><a href="{{member.url}}">{{member.first_name}} {{member.middle_name}} {{member.last_name}}</a></td>
                                <td>{{Math.floor((member.total_votes * member.votes_with_party_pct)/100)}}</td>
                                <td>{{member.votes_with_party_pct}}%</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="d-flex justify-content-center w100%">
                      <img src="./assets/ajax-loader.gif" class="ajax-loader" v-if="members.length === 0">
                    </div>  
                </div>
                <div class="col-6 p-2 table-responsive">
                  <h2 class="mb-2">Most Loyal (Top 10%)</h2>
                    <table class="table table-hover" v-if="members.length !== 0">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>N° of Party Votes</th>
                                <th>% Party Votes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="member in statistics.mostLoyal">
                                <td><a href="{{member.url}}">{{member.first_name}} {{member.middle_name}} {{member.last_name}}</a></td>
                                <td>{{Math.floor((member.total_votes * member.votes_with_party_pct)/100)}}</td>
                                <td>{{member.votes_with_party_pct}}%</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="d-flex justify-content-center w100%">
                      <img src="./assets/ajax-loader.gif" class="ajax-loader" v-if="members.length === 0">
                    </div>  
                </div>
            </div>
        </div>
          
          <footer class="d-flex mt-3 p-3 justify-content-center align-items-center" id="tgif-footer">
              © 2021 TGIF | All Rights Reserved
          </footer>
    </div>
    <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
    crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="./statistics.js"></script>
</body>
</html>